## Семинар 2

### MPI

Будем работать в библе MPI, задача - научиться организовывать работу в процессах
Сколько процессов - максимальное кол-во процессов, нельзя появляться в новое

3 основные понятия MPI 
1) Группа процессов
    1.1) Коммуникатор
2) points-to-point communication
3) понятие групповых операций
    сюда еще рано лезть, поэтому аккуратно

<mpi.h>

MPI_Init - функция

```cpp
int MPI_Init( int *argc, char ***argv) {}
```

MPI_SUCCESS - вернулось если, то все хорошо

После каждого MPI вызова была проверка на успешность 

Если вернулось не MPI_SUCCESS - MPI_ABORT - функция, завершающая работу всех процессов

```cpp
int MPI_Abort (MPI_Comm comm, int i) {} MPI_COMM_WORLD 
```

Пусть MPI_Init вернул SUCCES, но надо прекратить работу, надо сделать отказ от библиотеки - 

```cpp
int MPI_Finalize(void) {}
```

Функция, которую можно вызвать до инициализации библиотеки - проверка до инициализации библиотеки инициализирована или нет, поскольку повторно нельзя инициализировать библу

```cpp
int MPI_Initialized (int*flag)
```

!0 - инициализирована ; 0 - инициализировано

В нашей программе нет намеков на количество процессов, это количество будем указывать при работе загрузчика

```cpp
#include <iostream>
#include <mpi.h>
using namespace std;

int main(int argc, char *argv[]) {
    if (MPI_Init(&argc, &argv) != MPI_SUCCESS){
        ...;
        MPI_Abort();
    }
    cout<<"Hello, world!\n";
    MPI_Finalized();
}
```

/tmp/FALT