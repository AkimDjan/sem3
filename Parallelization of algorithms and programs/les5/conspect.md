## Семинар 4

### Вспоминаем задачу про окружность 
была четверть окружности, разбивали на трапеции и считали Si=1/2*h*(f(xi)+f(xi+1))

h=2/n, f(x)=sqrt(x^2-4)

Можно декомпозировать задачу, каждую трапецию считает один исполнитель и просто все складываем 

Будет k исполнителей; Разбиваем на k равных частей, 0, 1, ... k-1 найдем

N/k нацело - все отлично

Если нет - N/k нацело кроме последнего, припишем остаток от деления N/k - небольшое значение. 

Дописываем условно 27 трапеций и все будет хорошо

Процесс 0 считает от нуля до N/k нацело

Процесс 1 считает от N/k до 2N/k и так далее

Число N вводили в клавиатуру раньше, а сейчас мы заставим кого-то прочитать из файла, сохраняем N 
дальше всем остальным это сообщит

Не забегаем вперед паровоза

Напишем примерную структуру как будет выглядеть наша программа 

Обычно ранг 0 - заставляем дополнительно работать

Процесс ранга 0 выделен будет, а потом все остальные

Читаем из файла, в цикле MPI_Send(N), MPI_Recv(N)

Считаем зону ответственности

рассчет своей трапеции (пусть sigma j)

Собираем воедино все sigma j, заставляем заниматься этим процесс ранга 0

В цикле принимает MPI_Recv(sigma j) и суммирует 

И суммирует и все палучаеца


### Групповые операции

выполняются когда все сделали вызов - все начинают ее выполнять

Надо использовать одну и ту же групповыую функцию 

Очень важно если я работаю с приемом и передачей информацией, то групповые операции живут сами по себе, а 

операции поинт ту поинт живут сами по себе, очень часто бывает такая ошибка : вызывается функция для групповой рассылки

Работать не будет если другие функции будут принимать MPI_Recv, не забывайте подобные вещи!!!

Важное замечание - в групповых операциях отсутствует tag. К чему можно привести? 

Программа должна отправлять и принимать, tagа нет - не определим, тщательно смотрим

ВСе групповые функции можно реализовать с помощью point to point, но это сложно

Групповые операции упрощают жизнь программисту и это лучше

Самый просто пример - (не будем явно использовать, но оно существует) - параллельной синхронизации - MPI_