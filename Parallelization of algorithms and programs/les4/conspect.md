## Семинар 3
### MPI_Comm_size - количество процессов
MPI_Comm_size(кол-во процессов, которые мы хотим узнать; куда мы собираемся закинуть)

int MPI_Comm_size(MPI_Comm comm, int* size) 

не забывать про программу MPI_SUCCESS 

### Кто он такой в группе? 

Все процессы в группе имеют порядок в группе, если бы работали с многим различных групп, то номер одного и того же процесса имеют разные номера. ПРоцесс может узнать кто он такой в некоторой группе, вызвав функцию
```cpp
int MPI_Comm_rank(MPI_Comm comm, int* rank) 
```
rank принадлежит [0, n-1];

### ЗАДАЧА 1
стыдная задачка, но с чего-то надо начинать
модифицируем прошлую программу таким образом, чтобы не просто hello писал, а сколько работает процессов и кто он такой в нашей группе

Я номер такой-то, нас всего столько, привет привет :)

### Получение сообщения
int tag - складываются в положении fifo, когда буду сообщения читать - буду именно в этом порядке вычерпывать, мне иногда нужны сообщение пришедшие позже

можно работать с сообщениями tag=1  и не буду работать с другими и тд

это позволяет нам управлять приемом сообщений

сообщения, которые есть в MPI будут характеризоваться 4 параметрами

адрес, количество айтемов и тип айтема, и таг - атрибут

задача тага необходима

кроме того придется указывать кому мы отправляем сообщение и коммуникатор

вызов для отправки MPI сообщения будет выглядить следующим образом
```cpp
int MPI_Send(void *buf, int count, MPI_Datatype type, int dest, int tag, MPI_Comm comm) {}
```
1) адрес в памяти, где лежит подготовленная к отправке информация
2) количество айтемов - сколько элементов у вас там имеется (можно указывать 0)
3) описатель MPI типа данных - спец тип данных MPI_Datatype 
4) destination - ранг процесса, который я хочу получить ЯВНО
5) int tag :) ЯВНО 
6) коммуникатор группы, в рамках которой dest является правильным

### Прием - более хитрая вещь 
```cpp
int MPI_Recv(void *buf, int maxcount, MPI_Datatype type, int source, int tag, MPI_Comm comm, MPI_SOURCE *st) {}
```
1) Адрес в памяти, куда нужно положить 
2) int maxcount - максимальное количество айтемов, которое мы можем получить по адресу 
3) описатель MPI типа данных - спец тип данных MPI_Datatype
4) int source - источник, ранг, можно подставить придуманную константу MPI_ANY_SOURCE; 1,
5) int tag ; MPI_ANY_TAG
6) MPI_Comm comm - коммуникатор
7) MPI_Status *st - при получении будет 2 полезных поля - от кого и таг 

st.MPI_SOURCE - ранг процесса отправившего сообщение
st.MPI_TAG - таг принятого сообщения

MPI_Get_count

### ЗАДАЧА 2
int i!=0
0 процесс - с рангом i передает процессу 1
процесс 1 передает значение процессу 2 с с i+rank
...
процесс с рангом size-1 принимает значение, передает ее 0 процессу,
0 процесс отправляет данные процессу номер 1, и принимает от процесса size-1
каждый процесс должен сообщать кто он такой, кому и что он послал (одно сообщение)
каждый процесс должен сообщать кто он такой, что получил и от кого, что отослал и кому
